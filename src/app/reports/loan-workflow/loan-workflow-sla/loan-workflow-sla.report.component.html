<div class="ui-g">
    <div class="ui-g-12 no-padding">
        <div class="card no-padding">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-12">
                            <h2 class="panel-title pull-left">
                                Loan Workflow SLA for {{operationName}} Report
                            </h2>

                            <!-- <div class="pull-right">
                                <button pButton type="button" label="Add New" icon="fa-plus"></button>
                            </div> -->
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <!-- <div class="formgroup">
                        <label for="searchItem" class="control-label col-md-2 ">
                            SarchItem
                        </label>

                        <div class="col-md-10">
                            <div class="col-md-6">
                                <div class="col-md-4">
                                    <input type="text" name="customerName" name="customerName" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>-->


                    <div class="">



                        <p-dataTable [value]="loanApplication" [responsive]=true [paginator]="true" [rows]="10"
                            [(selection)]="applicationSelection" dataKey="loanApplicationId">

                            <!-- <p-column [style]="{'width':'38px'}" selectionMode="single"></p-column>-->
                            <!-- for row selection -->

                            <!--<p-column [style]="{'width':'40px'}" field="loanApplicationId" header="ID"></p-column>-->

                            <p-column field="applicationDate" header="Date" sortable="true" [style]="{'width':'80px'}">
                                <ng-template let-d="rowData" let-i="rowIndex" pTemplate="body">
                                    {{ d.applicationDate | date: 'dd-MM-yyyy' }}
                                </ng-template>
                            </p-column>

                            <p-column [style]="{'width':'110px'}" field="applicationReferenceNumber" sortable="true"
                                [filter]="true" filterMatchMode="contains" header="Reference"></p-column>
                            <p-column field="applicantName" header="Obligor" sortable="true" [filter]="true"
                                filterMatchMode="contains" sortable="true"></p-column>

                            <!--<p-column field="principalAmount" header="Amount" sortable="true" [filter]="true"
                                filterMatchMode="contains" sortable="true"></p-column>-->
                            <!--<p-column field="principalAmount" header="Amount" sortable="true" [style]="{'width':'110px','text-align':'right'}">
                                <ng-template let-d="rowData" let-i="rowIndex" pTemplate="body">
                                    {{ d.principalAmount | number}}
                                </ng-template>
                            </p-column>

                            <p-column field="interestRate" header="Rate" sortable="true" [style]="{'width':'110px','text-align':'right'}">
                                <ng-template let-d="rowData" let-i="rowIndex" pTemplate="body">
                                    {{ d.interestRate | number }}
                                </ng-template>
                            </p-column>

                            <p-column field="tenor" header="Tenor" sortable="true" [style]="{'width':'110px','text-align':'right'}">
                                <ng-template let-d="rowData" let-i="rowIndex" pTemplate="body">
                                    {{ d.tenor | number }}
                                </ng-template>
                            </p-column>-->

                            <p-column [style]="{'width':'80px'}">
                                <ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">

                                    <div class="btn-group">
                                        <a href="javascript:;" title="See More Info.." (click)="popoverSeeMore(row.loanApplicationId)">View
                                            Report</a>
                                        <!-- <a href="javascript:;" title="See More Info.." (click)="popoverSeeMore($event,row.loanApplicationId)">View
                                            Report</a> -->
                                    </div>
                                    <!--     
                                        <div class="btn-group">
                                            <a href="javascript:;" title="See More Info" (click)="popoverSeeMore($event,row.loanApplicationId)">More..</a>
                                            <a href="#" data-toggle="tooltip" data-placement="left" title="Hooray!">Hover</a>
                                        </div>
                                        -->
                                </ng-template>
                            </p-column>
                        </p-dataTable>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

<p-dialog [responsive]=true [(visible)]="displayReport" width="1200" modal="modal" showEffect="fade">
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-12">
                    <h2 class="panel-title pull-left">
                        <ng-container i18n>Report For</ng-container>
                         <strong>- {{ workingLoanApplication }}</strong>

                    </h2>
                    <button type="button" (click)="displayReport=false" style="margin-right:5px" class="btn btn-danger pull-right">Cancel</button>


                </div>
            </div>
        </div>
        <div class="panel-body">

            <div class="col-md-12" *ngIf="displayTestReport">
                <iframe [src]="reportSrc" id="report" name="report" frameborder="2" height="600px" width="1500" style="overflow:auto"></iframe>
            </div>
        </div>
    </div>
    <div class="panel-footer">
        <div class="row">
            <div class="col-md-12">
                <button type="button" (click)="displayReport=false" style="margin-right:5px" class="btn btn-danger pull-right">Cancel</button>
            </div>
        </div>
    </div>
</p-dialog>