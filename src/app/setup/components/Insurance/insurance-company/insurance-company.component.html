<p-accordion >
    <p-accordionTab header="Insurance Company">
            <div class="ui-g">
                    <div class="ui-g-12 no-padding">
                        <div class="card no-padding">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h2 class="panel-title pull-left" i18n>
                                                Insurance Company Setup
                                            </h2>
                                            <div class="pull-right">
                                                <button (click)="addInsuranceCompany()" pButton type="button" label="New Insurance Company"
                                                    icon="fa-plus"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <p-dataTable [value]="insuranceCompanies" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10,20,30]">
                                        <p-column i18n-header field="companyName" header="Company Name" sortable="true" [filter]="true" filterMatchMode="contains">
                                        </p-column>
                                        <p-column i18n-header field="address" header="Address" sortable="true" [filter]="true"
                                            filterMatchMode="contains"></p-column>
                                        <p-column i18n-header field="contactEmail" header="Email" sortable="true" [filter]="true"
                                            filterMatchMode="contains"></p-column>
                                        <p-column i18n-header field="phoneNumber" header="Phone Number" sortable="true" [filter]="true" filterMatchMode="contains">
                                        </p-column>
                                        <!-- <p-column i18n-header field="dateTimeCreated" header="Date Initiated" sortable="true" [filter]="true"
                                            filterMatchMode="contains">
                                            <ng-template let-d="rowData" let-i="rowIndex" pTemplate="body">
                                                {{ d.dateTimeCreated | date: 'dd-MM-yyyy' }}
                                            </ng-template>
                                        </p-column> -->
                                        <p-column>
                                            <ng-template pTemplate="header"></ng-template>
                                            <ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">
                                                <div style="text-align:center">
                                                    <div >
                                                        <a (click)="editInsuranceCompany(row)" href="javascript:void(0)" i18n>Edit</a>
                                                        <span style="padding:3px;">|</span>
                                                        <a (click)="removeInsuranceCompany(row)" href="javascript:void(0)" i18n>Remove</a>
                                                    </div>
                                                </div>
                                            </ng-template>
                                
                                        </p-column>
                                    </p-dataTable>
                                </div>
                                <div class="panel-footer">
                                    <div class="row">
                                        <div class="col-md-12">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
    </p-accordionTab>
    <p-accordionTab header="Insurance Type">
            <div class="ui-g">
                    <div class="ui-g-12 no-padding">
                        <div class="card no-padding">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h2 class="panel-title pull-left" i18n>
                                                Insurance Type Setup
                                            </h2>
                                            <div class="pull-right">
                                                <button (click)="addInsuranceType()" pButton type="button" i18n-label label="New Insurance Type"
                                                    icon="fa-plus"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <p-dataTable [value]="insuranceTypes" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10,20,30]">
                                        <p-column i18n-header field="insuranceType" header="Insurance Type" sortable="true" [filter]="true"
                                                filterMatchMode="contains"></p-column>
                                        <!-- <p-column *ngFor="let count of counts" field="count" header="Insurance Type" sortable="true" [filter]="true" filterMatchMode="contains">
                                            <ng-template let-d="rowData" let-i="rowIndex" pTemplate="body">
                                                        {{ d.dateTimeCreated | date: 'dd-MM-yyyy' }}
                                            </ng-template>
                                        </p-column> -->
                                        <p-column>
                                            <ng-template pTemplate="header"></ng-template>
                                            <ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">
                                                <div style="text-align:center">
                                                    <div >
                                                        <a (click)="editInsuranceType(row)" href="javascript:void(0)" i18n>Edit</a>
                                                        <span style="padding:3px;">|</span>
                                                        <a (click)="removeInsuranceType(row)" href="javascript:void(0)">Remove</a>
                                                    </div>
                                                </div>
                                            </ng-template>
                                
                                        </p-column>
                                    </p-dataTable>
                                </div>
                                <div class="panel-footer">
                                    <div class="row">
                                        <div class="col-md-12">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
    </p-accordionTab>
</p-accordion>

<p-dialog [responsive]=true [(visible)]="displayInsuranceCompanyForm" id="ct-modal" modal="modal" showEffect="fade"
    width="600" [contentStyle]="{'overflow':'auto','max-height':'700px'}">

    <div style="margin-bottom:0" class="panel panel-default">

        <div class="panel-heading">
            <h2 class="panel-title">
                {{formState}} Insurance Company
            </h2>
        </div>

        <form novalidate [formGroup]="insuranceCompanyForm" (ngSubmit)="saveInsuranceCompany(insuranceCompanyForm)" autocomplete="off">
            <div class="panel-body">
                    <div class="form-group">
                        <label for="companyName" class="control-label col-md-12" i18n>Company Name</label>
                        <div class="col-md-12">
                            <input type="text" name="companyName" maxlength="100" formControlName="companyName" id="companyName"
                                class="form-control"
                                [ngClass]="insuranceCompanyForm.controls['companyName'].valid ? 'valid-input' : 'required-input'">
                           
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="companyAddress" class="control-label col-md-12" i18n>Company Address</label>
                        <div class="col-md-12">
                            <textarea type="text" maxlength="200" name="companyAddress" formControlName="companyAddress"
                                id="companyAddress" class="form-control"
                                [ngClass]="insuranceCompanyForm.controls['companyAddress'].valid ? 'valid-input' : 'required-input'"></textarea>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="contactEmail" class="control-label col-md-12" i18n>Company Email</label>
                        <div class="col-md-12">
                            <input type="text" name="contactEmail" maxlength="100" formControlName="contactEmail" id="contactEmail"
                                class="form-control"
                                [ngClass]="insuranceCompanyForm.controls['contactEmail'].valid ? 'valid-input' : 'required-input'">
                           
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="phoneNumber" class="control-label col-md-12" i18n>Phone Number</label>
                        <div class="col-md-12">
                            <input pattern="[0-9]*" type="text" name="phoneNumber" formControlName="phoneNumber" id="phoneNumber"
                                class="form-control"
                                [ngClass]="insuranceCompanyForm.controls['phoneNumber'].valid ? 'valid-input' : 'required-input'">
                        </div>
                    </div>


                </div>
            
            <div class="panel-footer">
                <div class="row">
                    <div class="col-md-12">
                        <button type="button" (click)="saveInsuranceCompany(insuranceCompanyForm)"
                            [disabled]="insuranceCompanyForm.invalid" class="btn btn-success pull-right" i18n>Save and  Close</button>
                        <button type="button" (click)="displayInsuranceCompanyForm=false" style="margin-right:5px"
                            class="btn btn-danger pull-right" i18n>Cancel</button>
                    </div>
                </div>
            </div>

        </form>

    </div>

</p-dialog>

<p-dialog [responsive]=true [(visible)]="displayInsuranceTypeForm" id="ct-modal" modal="modal" showEffect="fade"
    width="450" [contentStyle]="{'overflow':'auto','max-height':'350px'}">

    <div style="margin-bottom:0" class="panel panel-default">
    
        <div class="panel-heading">
            <h2 class="panel-title" i18n>
                {{formState}} Insurance Type
            </h2>
        </div>
    
        <form novalidate [formGroup]="insuranceTypeForm" (ngSubmit)="saveInsuranceType(insuranceTypeForm)" autocomplete="off">
            <div class="panel-body">
                <div class="form-group">
                    <label for="insuranceType" class="control-label col-md-12" i18n>Insurance Type</label>
                    <div class="col-md-12">
                        <input type="text" name="insuranceType" maxlength="100" formControlName="insuranceType"
                            id="insuranceType" class="form-control"
                            [ngClass]="insuranceTypeForm.controls['insuranceType'].valid ? 'valid-input' : 'required-input'">
    
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <div class="row">
                    <div class="col-md-12">
                        <button type="button" (click)="saveInsuranceType(insuranceTypeForm)"
                            [disabled]="insuranceTypeForm.invalid" class="btn btn-success pull-right" i18n>Save and  Close</button>
                        <button type="button" (click)="displayInsuranceTypeForm=false" style="margin-right:5px"
                            class="btn btn-danger pull-right" i18n>Cancel</button>
                    </div>
                </div>
            </div>
    
        </form>
    
    </div>

</p-dialog>