<div class="ui-g">
    <div class="ui-g-12 no-padding">
        <div class="card no-padding">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-12">
                            <h2 class="panel-title pull-left" i18n>
                                Ledgers
                            </h2>

                            <div class="pull-right">
                                <button (click)="showAddModal()" pButton type="button" i18n-label label="Add New" icon="fa-plus"></button>
                            </div>                            
                        </div>
                    </div>
                </div>

                <div class="panel-body">

                    <p-dataTable [value]="ledgers" [paginator]="true" [rows]="10">
                        <p-column i18n-header field="accountTypeCode" header="Ledger Code" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
                        <p-column i18n-header field="accountTypeName" header="Ledger Name" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
                        <p-column i18n-header field="accountCategoryName" header="Account Category Name" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
                    </p-dataTable>

                </div>

            </div>
            <!--end of panel-->


        </div>
    </div>
</div>

            <!--add modal-->
            <p-dialog [responsive]=true [(visible)]="displayAddModal" id="add-modal" modal="modal" showEffect="fade" width="900">
                <div style="margin-bottom:0" class="panel panel-default">
                    <div class="panel-heading">
                        <h2 class="panel-title">
                            <ng-container i18n>New </ng-container>{{ entityName }}
                        </h2>
                    </div>

                    <form novalidate [formGroup]="addForm" autocomplete="off">
                        <div class="panel-body">
                            <div class="form-horizontal">

                                <div class="form-group">
                                    <label for="accountTypeName" class="control-label col-md-2" i18n>
                                        Ledger Name
                                    </label>
                                    <div class="col-md-10">
                                        <input type="text" name="accountTypeName" formControlName="accountTypeName" id="accountTypeName" class="form-control" [ngClass]="!addForm.controls['accountTypeName'].valid ? 'required-input' : 'valid-input'">
                                    </div>

                                </div>

                                <div class="form-group">
                                    <label for="accountTypeCode" class="control-label col-md-2" i18n>
                                        Ledger Code
                                    </label>
                                    <div class="col-md-4">
                                        <input type="text" name="accountTypeCode" formControlName="accountTypeCode" id="accountTypeCode" class="form-control" [ngClass]="!addForm.controls['accountTypeCode'].valid ? 'required-input' : 'valid-input'">
                                    </div>

                                <!--</div>

                                <div class="form-group">-->
                                    <label for="accountCategoryId" class="control-label col-md-2" i18n>
                                        Account Category
                                    </label>
                                    <div class="col-md-4">
                                        <select (change)="onCategoryChange()" name="accountCategoryId" id="accountCategoryId" formControlName="accountCategoryId" class="form-control" [ngClass]="!addForm.controls['accountCategoryId'].valid ? 'required-input' : 'valid-input'">
                                                <option value="" i18n>-- Select Category --</option>
                                                <option *ngFor="let category of categories" [value]="category.accountCategoryId">
                                                    {{category.accountCategoryName}}
                                                </option>
                                        </select>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                                <!--form buttons-->

                                <div class="panel-footer">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <button type="button" (click)="submitAddForm(addForm)" [disabled]="addForm.invalid" class="btn btn-success pull-right"  i18n>Save</button>
                                            <button type="button" (click)="displayAddModal=false"  style="margin-right:5px"class="btn btn-danger pull-right" i18n>Cancel</button>
                                        </div>
                                    </div>
                                </div>

                    </form>

                </div>
            </p-dialog>
            <!--end of add modal-->

            <fintrakbanking-message [title]="title" [message]="message" [show]="show" [cssClass]="cssClass" (closeEvent)="hideMessage($event)"></fintrakbanking-message>
