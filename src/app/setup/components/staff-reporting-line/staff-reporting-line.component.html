<div class="ui-g">
    <div class="ui-g-12 no-padding">
  
        <div class="card no-padding" >
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="row">
  
                        <div class="col-md-12">
                            <h2 class="panel-title pull-left" i18n>
  
                                Staff Repoting Line
                            </h2>
                            <div class="pull-right">
                                <!-- <button (click)="showModalForm()" pButton type="button" label="Add New" icon="fa-plus"></button> -->
                            </div>
                        </div>
                    </div>
                </div>
                

  
                <div class="panel-body coll-list">
  
                    <label for="company">
                        <span i18n>Staff Code</span>
                        <input type="text" name="searchParamemter" (focus)="openSearchBox()" i18n-placeholder placeholder="Staff Code" [(ngModel)]="searchParamemter" class="form-control"  >
                      </label>
                      <label for="contact">
                        <span></span>
                        <button pButton type="button" (click)="getStaffReportingAndSupervisor()" label="Search"></button>
                      </label>
                  <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-md-12">
                                <h2 class="panel-title pull-left" i18n>Staff Information</h2>
                            </div>
                        </div>
                    </div>
                    <form #searchForm="ngForm" novalidate autocomplete="off">
                        <div class="panel-body">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                  
                                        <div class="col-md-12">
                                            <h3 class="panel-title pull-left">
                    
                                                <label for="code">
                                                    <span i18n>Staff Code</span> :
                                                    {{staffCodeNo}}
                                                  </label>
                                                  |
                                                  <label for="name">
                                                    <span i18n>Staff Name</span> :
                                                    {{staffName}}
                                                  </label>
                                                  |
                                                  <label for="branch">
                                                    <span i18n>Staff Branch</span> :
                                                    {{staffBranch}}
                                                  </label>
                                                  |
                                                  <label for="email">
                                                    <span i18n>Staff Email</span> : 
                                                    {{staffEmail}}
                                                  </label>
                                            </h3>
                                            <div class="pull-right">
                                                <!-- <button (click)="showModalForm()" pButton type="button" label="Add New" icon="fa-plus"></button> -->
                                            </div>
                                        </div>
                                    </div>              
                                  </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-md-12">
                                <h2 class="panel-title pull-left" i18n>Staff MIS</h2>
                            </div>
                        </div>
                    </div>
                    <form #searchForm="ngForm" novalidate autocomplete="off">
                        <div class="panel-body">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                  
                                        <div class="col-md-12">
                                            <h3 class="panel-title pull-left">
                    
                                                <label for="code">
                                                    <span i18n>Username </span> :
                                                    {{username}}
                                                  </label>
                                                  |
                                                  <label for="name">
                                                    <span i18n>Team Unit </span> :
                                                    {{teamUnit}}
                                                  </label>
                                                  |
                                                  <label for="branch">
                                                    <span i18n>Cost Cent </span> :
                                                    {{costCent}}
                                                  </label>
                                                  |
                                                  <label for="email">
                                                    <span i18n>Department </span> :
                                                    {{dept}}
                                                  </label>
                                                  |
                                                  <label for="name">
                                                    <span i18n>Region </span> :
                                                    {{region}}
                                                  </label>
                                                  |
                                                  <label for="branch">
                                                    <span i18n>Group </span> :
                                                    {{group}}
                                                  </label>
                                                  |
                                                  <label for="email">
                                                    <span i18n>Directorate </span> :
                                                    {{directorate}}
                                                  </label>
                                            </h3>
                                            <div class="pull-right">
                                                <!-- <button (click)="showModalForm()" pButton type="button" label="Add New" icon="fa-plus"></button> -->
                                            </div>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-md-12">
                                <h2 class="panel-title pull-left" i18n>Staff Supervisor</h2>
                            </div>
                        </div>
                    </div>
                    <form #searchForm="ngForm" novalidate autocomplete="off">
                        <div class="panel-body">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <div class="row">
                                  
                                        <div class="col-md-12">
                                            <h3 class="panel-title pull-left">
                    
                                                <label for="code">
                                                    <span i18n>Staff Code</span> : 
                                                    {{supervisorCode}}
                                                  </label>
                                                  |
                                                  <label for="name">
                                                    <span i18n>Staff Name</span> :
                                                    {{supervisorName}}
                                                  </label>
                                                  |
                                                  <label for="branch">
                                                    <span i18n>Staff Branch</span> :
                                                    {{supervisorBranch}}
                                                  </label>
                                                  |
                                                  <label for="email">
                                                    <span i18n>Staff Email</span> :
                                                    {{supervisorEmail}}
                                                  </label>
                                            </h3>
                                            <div class="pull-right">
                                                <!-- <button (click)="showModalForm()" pButton type="button" label="Add New" icon="fa-plus"></button> -->
                                            </div>
                                        </div>
                                    </div>                </div>
                            </div>
                        </div>
                    </form>
                </div>
                </div>
                <p-tabView>
                    <p-tabPanel header="Supervising line">

                        <p-dataTable [value]="staffReportings" [paginator]="true" [rows]="5">

                            <p-column i18n-header field="staffCode" header="Staff Code" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
                            <p-column i18n-header field="firstName" header="Name" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
                            <p-column i18n-header field="branchCode" header="Branch Code" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
                            <p-column i18n-header field="branchName" header="Branch Name" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>

                        </p-dataTable>
             
                    </p-tabPanel>
                    <!-- <button pButton type="button" (click)="GetBalance()" label="Account Balance"></button> -->

                </p-tabView>
                <!--end of collateral list tab panel-->

            </div>
            <!--end of panel-->
            <!-- {{ loanApplicationCollaterals | json }} -->
        </div>
    </div>
  </div>
  


  <p-dialog [responsive]=true [(visible)]="displaySearchModal" modal="modal" id="searchModal" showEffect="fade" width="650">
    <div style="margin-bottom:0" class="panel panel-default">
      <div class="panel-heading">
        <div style="margin-left:0" class="row">
          <h2 class="panel-title pull-left" i18n>
            Search For Staff
          </h2>
          <a href="" (click)="displaySearchModal=false" class="pull-right remove-btn">
            <i class="glyphicon glyphicon-remove-sign">
            </i>
          </a>

        </div>
      </div>
      <div style="padding:3px" class="panel-body">
        <div class="form-group">
          <div class="row">
              <div class="col-md-9">
                  <input type="text" [(ngModel)]="staffSearchValue"   class="form-control" i18n-placeholder placeholder="Type in your search parameter">
                </div>
                <div class="col-md-3">
                    <button pButton type="button" (click)="StaffSearch()" i18n-label label="Search"></button>
                </div>
          </div>
      
        </div>

        <div class="form-group">
          <div class="col-md-12">
            <p>
              <!--{{mfacilityType}}-->
            </p>
            <table *ngIf="searchResults" class="table table-striped table-hover">
              <thead>
                <tr>
                  <th i18n>Staff Name</th>
                  <th i18n>Staff Code</th>
                  <th i18n>Branch Name</th>
                </tr>
              </thead>
              <tbody>
                <tr (click)="pickSearchedData(res)" style="cursor: pointer" *ngFor="let res of searchResults; let i = index">
                  <td>
                    {{res.firstName}}
                  </td>
                  <td>
                    {{res.staffCode}}
                  </td>
                  <td>
                    {{res.branchName}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </p-dialog>

  <!-- <p-dialog [responsive]=true [(visible)]="accountBalanceModal" modal="modal"  id="searchModal" width="650" showEffect="fade" >
  <app-casa-account-balance (closeWindow)="closeCollateralDetaits($event)"></app-casa-account-balance>
</p-dialog> -->